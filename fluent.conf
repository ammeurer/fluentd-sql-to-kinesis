<source>
  @type sql

  host earnest-loan-servicing-pre.chi8q3ophmo3.us-east-1.rds.amazonaws.com
  database earnest_loan_servicing
  adapter postgresql
  username earnest
  password e6np4wxpRZrJFGj
  
  tag_prefix lsp.preprod  # optional, but recommended

  select_interval 60s  # optional
  select_limit 500     # optional

  state_file sql_state

  <table>
    table journal_entries
    tag journal_entries  # optional
    update_column updated_at
    time_column updated_at  # optional
  </table>

  # detects all tables instead of <table> sections
  #all_tables
</source>

<match **>
  @type stdout
</match>

#<match lsp.**>
#  @type file
#  @id   output_docker1
#  path         /fluentd/log/docker.*.log
#  symlink_path /fluentd/log/docker.log
#  append       true
#  time_slice_format %Y%m%d
#  time_slice_wait   1m
#  time_format       %Y%m%dT%H%M%S%z
#  </match>
#  <match **>
#  @type file
#  @id   output1
#  path         /fluentd/log/data.*.log
#  symlink_path /fluentd/log/data.log
#  append       true
#  time_slice_format %Y%m%d
#  time_slice_wait   10m
#  time_format       %Y%m%dT%H%M%S%z
#</match>

#<match lsp.**>
#  @type kinesis_producer
#  region us-east-1
#  stream_name your_stream
#  partition_key key  # Otherwise, use random partition key
#</match>
